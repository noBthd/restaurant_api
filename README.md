# Restaurant API

## Описание

Это серверное приложение (API) для управления рестораном. Реализовано на Go с использованием фреймворка Gin и базы данных PostgreSQL. API поддерживает регистрацию и авторизацию пользователей, бронирование столиков, оформление заказов, выставление счетов, управление сменами официантов и административные функции.

## Основные возможности

- Регистрация и вход пользователей
- Бронирование столиков с проверкой занятости и времени
- Просмотр свободных столиков по времени и дате
- Оформление и просмотр заказов
- Выставление и оплата счетов
- Управление сменами и обслуженными столами официантов
- Администрирование пользователей и заказов

## Запуск

1. Установите Go (версия 1.23.5 или выше) и PostgreSQL.
2. Склонируйте репозиторий и перейдите в папку `restaurant_api`.
3. Настройте переменные окружения в `.env` (пример: строка подключения к БД).
4. Установите зависимости:

```sh
go mod download
```

## Основные эндпоинты

| Метод | URL | Описание |
| --- | --- | --- |
| POST | `/auth/register` | Регистрация пользователя |
| POST | `/auth/login` | Вход пользователя |
| GET | `/menu` | Получить меню |
| POST | `/reservations/create` | Создать бронирование |
| PATCH | `/reservations/cancel/:id` | Отменить бронирование |
| GET | `/utilities/free_tables/:date` | Свободные столики по дате |
| GET | `/bills/:reservation_id` | Получить счет по бронированию |
| PATCH | `/bills/pay/:reservation_id` | Оплатить счет |
| POST | `/orders/create` | Создать заказ |
| GET | `/orders/:id` | Получить заказ по ID |
| POST | `/admin/waiter/create` | Добавить официанта (админ) |
| POST | `/admin/shift/create/table/:id` | Добавить смену (админ) |
| PATCH | `/admin/shift/add_served_table_by_reservation/:reservation_id` | Добавить обслуженный стол по бронированию (админ) |
| DELETE | `/admin/user/remove/:id` | Удалить пользователя (админ) |
| PATCH | `/admin/user/make_admin/:id` | Сделать пользователя админом |

## Структура проекта

```sh
restaurant_api/
  cmd/server/           # Точка входа (main.go)
  internal/
    config/             # Конфигурация
    db/                 # Работа с базой данных
    handlers/           # HTTP-обработчики (эндпоинты)
    models/             # Модели данных
    services/           # Бизнес-логика
  .env                  # Переменные окружения
  go.mod, go.sum        # Зависимости Go
```
